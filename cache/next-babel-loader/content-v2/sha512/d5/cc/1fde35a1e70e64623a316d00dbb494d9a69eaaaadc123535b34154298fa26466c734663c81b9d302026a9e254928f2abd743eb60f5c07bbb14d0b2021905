{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mpauluk/Documents/otros/mercadolibre-test/pages/items/index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { getItems } from '../../services/itemService';\nimport { getCategories } from '../../services/categoryService';\nimport ProductMiniature from '../../components/ProductMiniature';\nimport SearchBox from '../../components/SearchBox';\nimport BreadCrumb from '../../components/BreadCrumb';\n\nconst SearchResult = () => {\n  const router = useRouter();\n  const {\n    0: items,\n    1: setItems\n  } = useState('');\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: categories,\n    1: setCategories\n  } = useState('');\n  useEffect(() => {\n    setLoading(true);\n\n    (async () => {\n      if (router.query.search) {\n        const items = await getItems(router.query.search);\n        setItems(items.items);\n\n        if (items) {\n          const categoryWithChildren = await getCategories(items.categories);\n          setCategories(categoryWithChildren);\n        }\n\n        setLoading(false);\n      }\n    })();\n  }, [router.query.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n      value: router.query.search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), categories && !isLoading && /*#__PURE__*/_jsxDEV(BreadCrumb, {\n      categories: categories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, this), isLoading || items === '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/loading.gif\",\n        height: \"200px\",\n        className: \"loading\",\n        alt: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this) : items.length && items != null ? items.map(item => {\n      return /*#__PURE__*/_jsxDEV(ProductMiniature, {\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notFoundContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No encontramos resultados para tu busqueda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\nexport default SearchResult;","map":{"version":3,"sources":["/Users/mpauluk/Documents/otros/mercadolibre-test/pages/items/index.jsx"],"names":["React","useState","useEffect","useRouter","getItems","getCategories","ProductMiniature","SearchBox","BreadCrumb","SearchResult","router","items","setItems","isLoading","setLoading","categories","setCategories","query","search","categoryWithChildren","length","map","item"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,4BAAzB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACY,SAAD;AAAA,OAAYC;AAAZ,MAA0Bb,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACc,UAAD;AAAA,OAAaC;AAAb,MAA8Bf,QAAQ,CAAC,EAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,KAAC,YAAY;AACT,UAAGJ,MAAM,CAACO,KAAP,CAAaC,MAAhB,EAAuB;AACnB,cAAMP,KAAK,GAAG,MAAMP,QAAQ,CAACM,MAAM,CAACO,KAAP,CAAaC,MAAd,CAA5B;AACAN,QAAAA,QAAQ,CAACD,KAAK,CAACA,KAAP,CAAR;;AACA,YAAGA,KAAH,EAAS;AACL,gBAAMQ,oBAAoB,GAAG,MAAMd,aAAa,CAACM,KAAK,CAACI,UAAP,CAAhD;AACAC,UAAAA,aAAa,CAACG,oBAAD,CAAb;AACH;;AACDL,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KAVD;AAWH,GAbQ,EAaN,CAACJ,MAAM,CAACO,KAAP,CAAaC,MAAd,CAbM,CAAT;AAeA,sBACI;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAER,MAAM,CAACO,KAAP,CAAaC;AAA/B;AAAA;AAAA;AAAA;AAAA,YADJ,EAEMH,UAAU,IAAI,CAACF,SAAf,iBACE,QAAC,UAAD;AAAY,MAAA,UAAU,EAAEE;AAAxB;AAAA;AAAA;AAAA;AAAA,YAHR,EAKKF,SAAS,IAAIF,KAAK,KAAK,EAAvB,gBACG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAK,QAAA,GAAG,EAAC,cAAT;AAAwB,QAAA,MAAM,EAAC,OAA/B;AAAuC,QAAA,SAAS,EAAC,SAAjD;AAA2D,QAAA,GAAG,EAAC;AAA/D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADH,GAKOA,KAAK,CAACS,MAAN,IAAgBT,KAAK,IAAI,IAAzB,GACIA,KAAK,CAACU,GAAN,CAAYC,IAAD,IAAU;AACjB,0BACI,QAAC,gBAAD;AAAkB,QAAA,IAAI,EAAEA;AAAxB;AAAA;AAAA;AAAA;AAAA,cADJ;AAGC,KAJL,CADJ,gBAOI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAjBhB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH,CA/CD;;AAiDA,eAAeb,YAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useRouter} from 'next/router'\nimport { getItems } from '../../services/itemService';\nimport { getCategories } from '../../services/categoryService';\nimport ProductMiniature from '../../components/ProductMiniature';\nimport SearchBox from '../../components/SearchBox';\nimport BreadCrumb from '../../components/BreadCrumb';\n\nconst SearchResult = () => {\n    const router = useRouter()\n    const [items, setItems] = useState('');\n    const [isLoading, setLoading] = useState(false);\n    const [categories, setCategories] = useState('');\n\n    useEffect(() => {\n        setLoading(true);\n        (async () => {\n            if(router.query.search){\n                const items = await getItems(router.query.search);\n                setItems(items.items);\n                if(items){\n                    const categoryWithChildren = await getCategories(items.categories);\n                    setCategories(categoryWithChildren);\n                }\n                setLoading(false);\n            }\n        })()\n    }, [router.query.search]);\n\n    return (\n        <div>\n            <SearchBox value={router.query.search}/>\n            { categories && !isLoading && (\n                <BreadCrumb categories={categories}/>\n            )}\n            {isLoading || items === '' ? (\n                <div className=\"container\">\n                    <img src=\"/loading.gif\" height=\"200px\" className=\"loading\" alt=\"loading\"/>\n                </div>\n                ) : (\n                    items.length && items != null ? (\n                        items.map( (item) => {\n                            return(\n                                <ProductMiniature item={item}/>\n                                )\n                            }) \n                    ) : (\n                        <div className=\"notFoundContainer\">\n                            <p>No encontramos resultados para tu busqueda</p>\n                        </div>\n                    )\n                )\n            }\n        </div>\n    )\n}\n\nexport default SearchResult;"]},"metadata":{},"sourceType":"module"}