{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/mpauluk/Documents/otros/mercadolibre-test/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mpauluk/Documents/otros/mercadolibre-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/mpauluk/Documents/otros/mercadolibre-test/pages/items/index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { getItems } from '../../services/itemService';\nimport { getCategories } from '../../services/categoryService';\nimport ProductMiniature from '../../components/ProductMiniature';\nimport SearchBox from '../../components/SearchBox';\nimport BreadCrumb from '../../components/BreadCrumb';\n\nvar SearchResult = function SearchResult() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(''),\n      items = _useState[0],\n      setItems = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      categories = _useState3[0],\n      setCategories = _useState3[1];\n\n  useEffect(function () {\n    setLoading(true);\n\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _items, categoryWithChildren;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!router.query.search) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 3;\n              return getItems(router.query.search);\n\n            case 3:\n              _items = _context.sent;\n              setItems(_items.items);\n\n              if (!_items) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 8;\n              return getCategories(_items.categories);\n\n            case 8:\n              categoryWithChildren = _context.sent;\n              setCategories(categoryWithChildren);\n\n            case 10:\n              setLoading(false);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [router.query.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n      value: router.query.search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, _this), categories && !isLoading && /*#__PURE__*/_jsxDEV(BreadCrumb, {\n      categories: categories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, _this), isLoading || items === '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/loading.gif\",\n        height: \"200px\",\n        className: \"loading\",\n        alt: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, _this) : items.length && items != null ? items.map(function (item) {\n      return /*#__PURE__*/_jsxDEV(ProductMiniature, {\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }, _this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notFoundContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No encontramos resultados para tu busqueda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(SearchResult, \"tOQLestyqHn1JaR7T+u6DAlpk04=\", false, function () {\n  return [useRouter];\n});\n\n_c = SearchResult;\nexport default SearchResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResult\");","map":{"version":3,"sources":["/Users/mpauluk/Documents/otros/mercadolibre-test/pages/items/index.jsx"],"names":["React","useState","useEffect","useRouter","getItems","getCategories","ProductMiniature","SearchBox","BreadCrumb","SearchResult","router","items","setItems","isLoading","setLoading","categories","setCategories","query","search","categoryWithChildren","length","map","item"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,4BAAzB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA;;AACvB,MAAMC,MAAM,GAAGP,SAAS,EAAxB;;AADuB,kBAEGF,QAAQ,CAAC,EAAD,CAFX;AAAA,MAEhBU,KAFgB;AAAA,MAETC,QAFS;;AAAA,mBAGSX,QAAQ,CAAC,KAAD,CAHjB;AAAA,MAGhBY,SAHgB;AAAA,MAGLC,UAHK;;AAAA,mBAIab,QAAQ,CAAC,EAAD,CAJrB;AAAA,MAIhBc,UAJgB;AAAA,MAIJC,aAJI;;AAMvBd,EAAAA,SAAS,CAAC,YAAM;AACZY,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,6DAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBACMJ,MAAM,CAACO,KAAP,CAAaC,MADnB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAE2Bd,QAAQ,CAACM,MAAM,CAACO,KAAP,CAAaC,MAAd,CAFnC;;AAAA;AAEaP,cAAAA,MAFb;AAGOC,cAAAA,QAAQ,CAACD,MAAK,CAACA,KAAP,CAAR;;AAHP,mBAIUA,MAJV;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAK8CN,aAAa,CAACM,MAAK,CAACI,UAAP,CAL3D;;AAAA;AAKiBI,cAAAA,oBALjB;AAMWH,cAAAA,aAAa,CAACG,oBAAD,CAAb;;AANX;AAQOL,cAAAA,UAAU,CAAC,KAAD,CAAV;;AARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAWH,GAbQ,EAaN,CAACJ,MAAM,CAACO,KAAP,CAAaC,MAAd,CAbM,CAAT;AAeA,sBACI;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAER,MAAM,CAACO,KAAP,CAAaC;AAA/B;AAAA;AAAA;AAAA;AAAA,aADJ,EAEMH,UAAU,IAAI,CAACF,SAAf,iBACE,QAAC,UAAD;AAAY,MAAA,UAAU,EAAEE;AAAxB;AAAA;AAAA;AAAA;AAAA,aAHR,EAKKF,SAAS,IAAIF,KAAK,KAAK,EAAvB,gBACG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAK,QAAA,GAAG,EAAC,cAAT;AAAwB,QAAA,MAAM,EAAC,OAA/B;AAAuC,QAAA,SAAS,EAAC,SAAjD;AAA2D,QAAA,GAAG,EAAC;AAA/D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,aADH,GAKOA,KAAK,CAACS,MAAN,IAAgBT,KAAK,IAAI,IAAzB,GACIA,KAAK,CAACU,GAAN,CAAW,UAACC,IAAD,EAAU;AACjB,0BACI,QAAC,gBAAD;AAAkB,QAAA,IAAI,EAAEA;AAAxB;AAAA;AAAA;AAAA;AAAA,eADJ;AAGC,KAJL,CADJ,gBAOI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,aAjBhB;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;AA0BH,CA/CD;;GAAMb,Y;UACaN,S;;;KADbM,Y;AAiDN,eAAeA,YAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useRouter} from 'next/router'\nimport { getItems } from '../../services/itemService';\nimport { getCategories } from '../../services/categoryService';\nimport ProductMiniature from '../../components/ProductMiniature';\nimport SearchBox from '../../components/SearchBox';\nimport BreadCrumb from '../../components/BreadCrumb';\n\nconst SearchResult = () => {\n    const router = useRouter()\n    const [items, setItems] = useState('');\n    const [isLoading, setLoading] = useState(false);\n    const [categories, setCategories] = useState('');\n\n    useEffect(() => {\n        setLoading(true);\n        (async () => {\n            if(router.query.search){\n                const items = await getItems(router.query.search);\n                setItems(items.items);\n                if(items){\n                    const categoryWithChildren = await getCategories(items.categories);\n                    setCategories(categoryWithChildren);\n                }\n                setLoading(false);\n            }\n        })()\n    }, [router.query.search]);\n\n    return (\n        <div>\n            <SearchBox value={router.query.search}/>\n            { categories && !isLoading && (\n                <BreadCrumb categories={categories}/>\n            )}\n            {isLoading || items === '' ? (\n                <div className=\"container\">\n                    <img src=\"/loading.gif\" height=\"200px\" className=\"loading\" alt=\"loading\"/>\n                </div>\n                ) : (\n                    items.length && items != null ? (\n                        items.map( (item) => {\n                            return(\n                                <ProductMiniature item={item}/>\n                                )\n                            }) \n                    ) : (\n                        <div className=\"notFoundContainer\">\n                            <p>No encontramos resultados para tu busqueda</p>\n                        </div>\n                    )\n                )\n            }\n        </div>\n    )\n}\n\nexport default SearchResult;"]},"metadata":{},"sourceType":"module"}